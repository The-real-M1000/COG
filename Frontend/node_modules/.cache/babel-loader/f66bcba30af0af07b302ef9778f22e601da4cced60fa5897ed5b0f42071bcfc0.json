{"ast":null,"code":"import{ref,set,get,remove}from\"firebase/database\";import{db}from\"../firebase\";/**\n * Guarda un juego como favorito (like) para un usuario\n */export async function addLikedGame(userId,gameData){try{const gameRef=ref(db,\"users/\".concat(userId,\"/likedGames/\").concat(gameData.appid));await set(gameRef,{appid:gameData.appid,name:gameData.name,playtime_forever:gameData.playtime_forever||0,img_icon_url:gameData.img_icon_url||\"\",timestamp:Date.now()});console.log(\"✅ Juego agregado a favoritos:\",gameData.name);return true;}catch(error){console.error(\"❌ Error agregando juego a favoritos:\",error);return false;}}/**\n * Elimina un juego de favoritos\n */export async function removeLikedGame(userId,appid){try{const gameRef=ref(db,\"users/\".concat(userId,\"/likedGames/\").concat(appid));await remove(gameRef);console.log(\"✅ Juego eliminado de favoritos\");return true;}catch(error){console.error(\"❌ Error eliminando juego de favoritos:\",error);return false;}}/**\n * Verifica si un juego está en favoritos\n */export async function isGameLiked(userId,appid){try{const gameRef=ref(db,\"users/\".concat(userId,\"/likedGames/\").concat(appid));const snapshot=await get(gameRef);return snapshot.exists();}catch(error){console.error(\"❌ Error verificando favorito:\",error);return false;}}/**\n * Obtiene todos los juegos favoritos de un usuario\n */export async function getLikedGames(userId){try{const gamesRef=ref(db,\"users/\".concat(userId,\"/likedGames\"));const snapshot=await get(gamesRef);if(snapshot.exists()){const games=[];snapshot.forEach(childSnapshot=>{games.push(childSnapshot.val());});return games;}return[];}catch(error){console.error(\"❌ Error obteniendo juegos favoritos:\",error);return[];}}/**\n * Marca un juego como jugado\n */export async function addPlayedGame(userId,gameData){try{const gameRef=ref(db,\"users/\".concat(userId,\"/playedGames/\").concat(gameData.appid));await set(gameRef,{appid:gameData.appid,name:gameData.name,playtime_forever:gameData.playtime_forever||0,img_icon_url:gameData.img_icon_url||\"\",timestamp:Date.now()});console.log(\"✅ Juego marcado como jugado:\",gameData.name);return true;}catch(error){console.error(\"❌ Error marcando juego como jugado:\",error);return false;}}/**\n * Desmarca un juego como jugado\n */export async function removePlayedGame(userId,appid){try{const gameRef=ref(db,\"users/\".concat(userId,\"/playedGames/\").concat(appid));await remove(gameRef);console.log(\"✅ Juego desmarcado como jugado\");return true;}catch(error){console.error(\"❌ Error desmarcando juego:\",error);return false;}}/**\n * Verifica si un juego está marcado como jugado\n */export async function isGamePlayed(userId,appid){try{const gameRef=ref(db,\"users/\".concat(userId,\"/playedGames/\").concat(appid));const snapshot=await get(gameRef);return snapshot.exists();}catch(error){console.error(\"❌ Error verificando juego jugado:\",error);return false;}}/**\n * Obtiene todos los juegos jugados de un usuario\n */export async function getPlayedGames(userId){try{const gamesRef=ref(db,\"users/\".concat(userId,\"/playedGames\"));const snapshot=await get(gamesRef);if(snapshot.exists()){const games=[];snapshot.forEach(childSnapshot=>{games.push(childSnapshot.val());});return games;}return[];}catch(error){console.error(\"❌ Error obteniendo juegos jugados:\",error);return[];}}","map":{"version":3,"names":["ref","set","get","remove","db","addLikedGame","userId","gameData","gameRef","concat","appid","name","playtime_forever","img_icon_url","timestamp","Date","now","console","log","error","removeLikedGame","isGameLiked","snapshot","exists","getLikedGames","gamesRef","games","forEach","childSnapshot","push","val","addPlayedGame","removePlayedGame","isGamePlayed","getPlayedGames"],"sources":["/home/m1000/gaming-hub/Frontend/src/utils/gameService.js"],"sourcesContent":["import { ref, set, get, remove } from \"firebase/database\";\nimport { db } from \"../firebase\";\n\n/**\n * Guarda un juego como favorito (like) para un usuario\n */\nexport async function addLikedGame(userId, gameData) {\n  try {\n    const gameRef = ref(db, `users/${userId}/likedGames/${gameData.appid}`);\n    await set(gameRef, {\n      appid: gameData.appid,\n      name: gameData.name,\n      playtime_forever: gameData.playtime_forever || 0,\n      img_icon_url: gameData.img_icon_url || \"\",\n      timestamp: Date.now()\n    });\n    console.log(\"✅ Juego agregado a favoritos:\", gameData.name);\n    return true;\n  } catch (error) {\n    console.error(\"❌ Error agregando juego a favoritos:\", error);\n    return false;\n  }\n}\n\n/**\n * Elimina un juego de favoritos\n */\nexport async function removeLikedGame(userId, appid) {\n  try {\n    const gameRef = ref(db, `users/${userId}/likedGames/${appid}`);\n    await remove(gameRef);\n    console.log(\"✅ Juego eliminado de favoritos\");\n    return true;\n  } catch (error) {\n    console.error(\"❌ Error eliminando juego de favoritos:\", error);\n    return false;\n  }\n}\n\n/**\n * Verifica si un juego está en favoritos\n */\nexport async function isGameLiked(userId, appid) {\n  try {\n    const gameRef = ref(db, `users/${userId}/likedGames/${appid}`);\n    const snapshot = await get(gameRef);\n    return snapshot.exists();\n  } catch (error) {\n    console.error(\"❌ Error verificando favorito:\", error);\n    return false;\n  }\n}\n\n/**\n * Obtiene todos los juegos favoritos de un usuario\n */\nexport async function getLikedGames(userId) {\n  try {\n    const gamesRef = ref(db, `users/${userId}/likedGames`);\n    const snapshot = await get(gamesRef);\n    \n    if (snapshot.exists()) {\n      const games = [];\n      snapshot.forEach((childSnapshot) => {\n        games.push(childSnapshot.val());\n      });\n      return games;\n    }\n    return [];\n  } catch (error) {\n    console.error(\"❌ Error obteniendo juegos favoritos:\", error);\n    return [];\n  }\n}\n\n/**\n * Marca un juego como jugado\n */\nexport async function addPlayedGame(userId, gameData) {\n  try {\n    const gameRef = ref(db, `users/${userId}/playedGames/${gameData.appid}`);\n    await set(gameRef, {\n      appid: gameData.appid,\n      name: gameData.name,\n      playtime_forever: gameData.playtime_forever || 0,\n      img_icon_url: gameData.img_icon_url || \"\",\n      timestamp: Date.now()\n    });\n    console.log(\"✅ Juego marcado como jugado:\", gameData.name);\n    return true;\n  } catch (error) {\n    console.error(\"❌ Error marcando juego como jugado:\", error);\n    return false;\n  }\n}\n\n/**\n * Desmarca un juego como jugado\n */\nexport async function removePlayedGame(userId, appid) {\n  try {\n    const gameRef = ref(db, `users/${userId}/playedGames/${appid}`);\n    await remove(gameRef);\n    console.log(\"✅ Juego desmarcado como jugado\");\n    return true;\n  } catch (error) {\n    console.error(\"❌ Error desmarcando juego:\", error);\n    return false;\n  }\n}\n\n/**\n * Verifica si un juego está marcado como jugado\n */\nexport async function isGamePlayed(userId, appid) {\n  try {\n    const gameRef = ref(db, `users/${userId}/playedGames/${appid}`);\n    const snapshot = await get(gameRef);\n    return snapshot.exists();\n  } catch (error) {\n    console.error(\"❌ Error verificando juego jugado:\", error);\n    return false;\n  }\n}\n\n/**\n * Obtiene todos los juegos jugados de un usuario\n */\nexport async function getPlayedGames(userId) {\n  try {\n    const gamesRef = ref(db, `users/${userId}/playedGames`);\n    const snapshot = await get(gamesRef);\n    \n    if (snapshot.exists()) {\n      const games = [];\n      snapshot.forEach((childSnapshot) => {\n        games.push(childSnapshot.val());\n      });\n      return games;\n    }\n    return [];\n  } catch (error) {\n    console.error(\"❌ Error obteniendo juegos jugados:\", error);\n    return [];\n  }\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}